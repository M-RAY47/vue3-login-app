<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="style.css">
	<title>Regiter Form with vue 3</title>
</head>
<body>
	<div id="app">
		<custom-form />
		<hr/>

		<button @click="toggleBox">Toggle Box</button>
	</div>

	<script src="https://unpkg.com/vue@next"></script>
	<script>
		let app = Vue.createApp({
			data: ()=> {
				return {
					greeting: 'Hello Vue 3 login!',
					isVisible: false
				}
			},
			methods: {
				toggleBox(){
					this.isVisible = !this.isVisible
				},
				greet(greeting){
					console.log(this.greeting)
				}
			}
		})
		// custom-form component
		app.component('custom-form', {
			template: /*html*/
			`
				<form class="formClass" @submit.prevent="handleSubmit">
					<h1>{{ title }}</h1>
					<custom-input 
					v-for="(input, i) in inputs"
					:key="i"
					type="input.type"
					:label="input.label" v-model="input.value" />
					<button>Log in</button>	
				</form>
			`,
			components: ['custom-input'],
			data(){
				return {
					title: 'Login Form',
					inputs: [
						{
							label: 'Email',
							type: 'email',
							value: ''
						},
						{
							label: 'Password',
							type: 'password',
							value: ''
						}
					]
				}
			},
			methods: {
				handleSubmit(){
					console.log("email: ",this.inputs[0].value, "password: ", this.inputs[1].value);
				}
			}
		});
		// email component
		app.component('custom-input',{
			template: /*html*/
			`
				<label>
					{{ label }}
					<input type="text" v-model="inputValue">
				</label>
			`,
			props:['label', 'modelValue'],
			computed: {
				inputValue: {
					get(){
						return this.modelValue;
					},
					set(value) {
						console.log("value: ",value);
						this.$emit('update:modelValue', value)
					}
				}
			},
			// data(){
			// 	return {
			// 		inputValue: ''
			// 	}
			// }
		})
		app.mount('#app');
	</script>
</body>
</html>